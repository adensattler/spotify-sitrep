<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SITREP Spotify</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- Bootstrap's JavaScript file -->
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"> -->
    <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
    <!-- <nav class="navbar navbar-expand-md bg-body-tertiary"> -->
    <nav class="navbar navbar-expand-md navbar-custom">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-md-0">
                    <li class="nav-item">
                        <a class="nav-link active" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="privacy.html">Privacy</a>
                    </li>
                    <li class="nav-item" id="logout-btn">
                        <a class="nav-link active" href="#" id="logout">Log Out</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="page-container">
        <div class="container">
            <div id="login">
                <div class="login-section">
                    <img src="images/SITREP_large.png" width="100%" alt="">
                    <!-- <h2>Spotify Situation Reporter</h2> -->
                    <p>Learn more about your music taste over time with SITREP.</p>


                    <!-- <a href="/login" class="login-btn-basic btn btn-outline-dark rounded-circle">Login</a> -->

                    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script> 

                    <!-- <dotlottie-player src="https://lottie.host/10dc478b-b8f8-4a74-8165-58fc7a90a398/w5AS3HjqOG.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></dotlottie-player>
                    <lottie-player src="https://assets6.lottiefiles.com/packages/lf20_ttz3isg3.json" background="transparent" speed="1" loop="" autoplay="" style="width: 100%; height: 100%;"></lottie-player> -->

                    <div class="animation-container">
                        <!-- <dotlottie-player src="https://lottie.host/10dc478b-b8f8-4a74-8165-58fc7a90a398/w5AS3HjqOG.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></dotlottie-player> -->
                        <dotlottie-player src="https://lottie.host/612815cc-690b-4da9-9503-9a3414ae1355/W1NJoNrWmE.json" background="transparent" speed="1" style="width: 100%; height: 100%;" loop autoplay></dotlottie-player>

                        <a href="/login" class="login-btn ">Login</a>
                    </div>

                </div>
            </div>



            <div id="loggedin">
                <div class="main-content">
                    <div class="options">
                        <h1>SITREP</h1>
                        <h2>Spotify Situation Reporter</h2>
                        <!-- Time Range Selection Buttons -->
                        <form class="btn-group" role="group" aria-label="Time period selection" id="options">
                            <input type="radio" class="btn-check" name="period-select" id="short_term"
                                autocomplete="off" value="short_term" checked />
                            <label class="btn btn-outline-dark" for="short_term">Last Month</label>

                            <input type="radio" class="btn-check" name="period-select" id="medium_term"
                                autocomplete="off" value="medium_term" />
                            <label class="btn btn-outline-dark" for="medium_term">Last 6 Months</label>

                            <input type="radio" class="btn-check" name="period-select" id="long_term" autocomplete="off"
                                value="long_term" />
                            <label class="btn btn-outline-dark" for="long_term">All Time</label>
                        </form>
                    </div>

                    <!-- SITUATION REPORT IS ADDED HERE -->
                    <div id="sitrep"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- SITREP TEMPLATE -->
    <script id="user-profile-template" type="text/x-handlebars-template">
        <div class='sitrepContainer'>
            <div class="sitrepHeadContainer">
                <h2 class='title'>
                    SITREP
                </h2>
                <p class='period'>
                    DOCUMENT #00{{num}} ON SUBJECT {{name}}
                </p>
                <p class='period'>
                    INCIDENT NUMBER: {{incident_num}}
                </p>
                <p class='period'>
                    CURRENT DTG: 
                    {{time}}
                </p>
                <p class='period'>
                    SIZE AND SCOPE: {{period}}
                </p>    
            </div>
            
            <div id="trackListContainer" class="contentContainer">
                <h4 class='date'>
                    TOP TRACKS
                </h4>
                <table class='tracks'>
                    <thead>
                        <td class='begin'>
                            RNK
                        </td>
                        <td>
                            ITEM
                        </td>
                    </thead>
                    {{#each tracks}}
                        <tr>
                            <td class='begin'>
                                {{this.id}}
                            </td>

                            
                            <td class='name'>
                                {{#if this.url}}
                                <a
                                style='color: black; word-break: break-word' href={{this.url}} target='_blank'>
                                {{{this.name}}}
                                {{{this.artists}}}
                                </a>
                                
                                {{else}}

                                {{this.name}}
                                {{this.artists}}

                                {{/if}}

                            </td>
                        </tr>
                    {{/each}}
                </table>
            </div>
    
            <div id="artistListContainer" class="contentContainer">
                <h4 class='date'>
                    TOP ARTISTS
                </h4>
                <table class='artists'>
                    <thead>
                        <td class='begin'>
                            RNK
                        </td>
                        <td>
                            ARTIST
                        </td>
                    </thead>
                    {{#each artists}}
                        <tr>
                            <td class='begin'>
                                {{this.id}}
                            </td>
                            <td class='name'>
                                {{#if this.url}}
                                <a
                                style='color: black; word-break: break-word' href={{this.url}} target='_blank'>
                                {{{this.name}}}
                                </a>
                                
                                {{else}}

                                {{this.name}}

                                {{/if}}
                            </td>
                        </tr>
                    {{/each}}
                </table>
            </div>

            <div id="genreListContainer" class="contentContainer">
                <h4 class='date'>
                    TOP GENRES
                </h4>
                <table class='artists'>
                    <thead>
                        <td class='begin'>
                            PCT
                        </td>
                        <td>
                            GENRE
                        </td>
                    </thead>
                    {{#each genres}}
                        <tr>
                            <td class='begin'>
                                {{this.percentage}}
                            </td>
                            <td class='name'>
                                
                                {{this.genre}}

                            </td>
                        </tr>
                    {{/each}}
                </table>
            </div>

            <!-- Add other blocks here -->

            <div class='goodbye'>
                <p>THANK YOU FOR VISITING!</p>
                <img class='spotify-logo' id='spotify-logo' src='/images/Spotify_Full_Logo_RGB_Black.png'/>
            </div>
        </div>
    </script>

    <!-- <div class="footer">
        <hr>
        <div class="contact">
            <a href="mailto:adensattler@gmail.com">Email</a>
            <span>•</span>
            <a href="https://github.com/adensattler">GitHub</a>
            <span>•</span>
            <a href="https://www.linkedin.com/in/aden-sattler">LinkedIn</a>
        </div>
        <p class="info">
            Made by <a href="https://adensattler.me/">Aden Sattler</a>
        </p>
    </div> -->
    <div class="footer2">
        <div class="footer-links">
            <a href="mailto:adensattler@gmail.com">Email</a>
            <a href="https://github.com/adensattler">GitHub</a>
            <a href="https://www.linkedin.com/in/aden-sattler">LinkedIn</a>
            <p> Made by <a href="https://adensattler.me/">Aden Sattler</a></p>
        </div>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="/js/server.js"></script>
</body>

</html>